<div class="fk-account container-fluid">

  <div class="row">
    <div class="col-md-12" style="background-color: #ffffff">

      <page-header title="'提款银行资料'" back="true" background="true" href="bank.links"></page-header>

      <div class="bank-content">
        <div class="col-md-12" style="background-color: #ffffff">
          <div class="form-group">
            <div class="insideText">收款人：</div>
            <div class="col-10">
              <input class="form-control inputText" ng-model="bank.bankAccountName" type="text">
            </div>
          </div>
          <div class="form-group">
            <div class="insideText">银行卡类型：</div>
            <div class="col-10">
              <select class="form-control inputText" ng-model="bank.editData.bankAccountType">
                <option ng-repeat="(key,val) in bank.bankAccountTypeList" value="{{key}}">{{val}}</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <div class="insideText">银行账号：</div>
            <div class="col-10">
              <input class="form-control inputText" placeholder="{{bank.editData.bankAccount}}" ng-model="bank.editData.newBankAccount" type="text" ng-change="bank.validateBankAccount()">
            </div>
            <div style="color:red;font-size:12px;" ng-show="bank.invalidBankAccount">必须是16位或19位银行卡号</div>
          </div>
          <div class="form-group">
            <div class="insideText">银行行别：</div>
            <div class="col-10">
              <select class="form-control inputText" ng-model="bank.editData.bankType">
                <option ng-repeat="(key, val) in bank.allBankTypeList" value="{{key}}">{{val}}</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <div class="insideText">开户城市:</div>
            <div class="col-10">
              <select class="form-control inputText" ng-change="bank.selectProvince(bank.editData.province)" ng-model="bank.editData.province">
                <option ng-repeat="option in bank.provinces" value="{{option.id}}">{{option.name}}</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <div class="insideText"></div>
            <div class="col-10">
              <select class="form-control inputText" ng-change="bank.selectCity(bank.editData.city)" ng-model="bank.editData.city">
                <option ng-repeat="option in bank.cities" value="{{option.id}}">{{option.name}}</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <div class="insideText"></div>
            <div class="col-10">
              <select class="form-control inputText" id="sel1" ng-model="bank.editData.district">
                <option ng-repeat="option in bank.districts" value="{{option.id}}">{{option.name}}</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <div class="insideText">银行网点:</div>
            <div class="col-10">
              <input class="form-control inputText" ng-model="bank.editData.bankAddress" value="" type="text">
            </div>
          </div>
          <div class="form-group">
            <div class="insideText">验证码:</div>
            <div class="col-6">
              <input class="form-control inputText" type="text" name="sms" ng-model="bank.editData.smsCode" placeholder="请获取验证码" required>
            </div>
          </div>
          <div class="btn-get-captcha btn btn-primary" ng-click="bank.getSMSCode()" ng-disabled="bank.countDown > 0" style="margin-bottom: 1em">
            <span ng-hide="bank.countDown > 0">获取验证码</span>
            <span ng-show="bank.countDown > 0">{{bank.countDown}}秒后重发</span>
          </div>

        </div>
        <button class="btn btn-primary w100" ng-click="bank.updatePlayerPayment()">确认</button>
      </div>
      <!-- if there's data here -->
      <div class="bgGray" style="display:none">
        <div class="bank-content" ng-if="!bank.userData.bankAccount">
          <div class="col-md-12">
            <div class="form-group">
              <div class="insideText">收款人：</div>
              <div class="col-10 ">
                <input class="form-control inputText" disabled value="{{bank.userData.bankAccountName}}" type="text">
              </div>
            </div>
            <div class="form-group">
              <div class="insideText">银行卡类型：</div>
              <div class="col-10">
                <input class="form-control inputText" disabled value="{{bank.bankAccountTypeList[bank.userData.bankAccountType]}}" type="text">
              </div>
            </div>
            <div class="form-group">
              <div class="insideText">银行账号：</div>
              <div class="col-10">
                <input class="form-control inputText" disabled value="{{bank.userData.bankAccount}}" type="text">
              </div>
            </div>
            <div class="form-group">
              <div class="insideText">银行行别：</div>
              <div class="col-10">
                <input class="form-control inputText" disabled value="{{bank.allBankTypeList[bank.userData.bankName]}}" type="text">
              </div>
            </div>
            <div class="form-group">
              <div class="insideText">开户城市:</div>
              <div class="col-10">
                <input class="form-control inputText" disabled value="{{bank.userData.bankAccountCity}}" type="text">
              </div>
            </div>
            <div class="form-group">
              <div class="insideText">银行网点:</div>
              <div class="col-10">
                <input class="form-control inputText" disabled value="{{bank.userData.bankAddress}}" type="text">
              </div>
            </div>
          </div>
          <div class="btop100 bfont">温馨提示：如提款银行资料不准确，请联络客服人员确认修改。</div>
        </div>
      </div>
    </div>
  </div>
  <!-- modal -->
  <!-- Modal -->
  <div class="modal fade" id="bankSuccessModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel1">提示</h4>
        </div>
        <div class="modal-body">
          银行账户添加成功
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="bankFailModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel1">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel2">提示</h4>
        </div>
        <div class="modal-body">
          {{bank.errorMessage}}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        </div>
      </div>
    </div>
  </div>


</div>
